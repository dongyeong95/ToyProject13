<!doctype html>
<html lang="en">
<head>

    <!-- Webpage Title -->
    <title>로그인 페이지</title>

    <!-- Required meta tags -->

    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- Bulma CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.3.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap" rel="stylesheet">
    <title>board list</title>

    <style>
      * {
          font-family: 'Do Hyeon', sans-serif;
      }

      .mytitle {
          background-color: black;
          width: 100%;
          height: 50px;

          color: white;

          display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;
      }

      .myboard {
          max-width: 800px;
          width: 95%;
          margin: 20px auto;
          padding: 20px;

          position: absolute;
          top: 10%;
          left: 50%;
          transform: translate(-50%);

          box-shadow: 0px 0px 10px 2px grey;
          border-radius: 10px;
      }

  </style>

    <script>
    // 로그아웃은 내가 가지고 있는 토큰만 쿠키에서 없애면 됩니다.
    function logout() {

        $.removeCookie('mytoken');
        alert('로그아웃!')
        window.location.href='/login'
      }


    function add_page() {
        $.ajax({
            type: "GET",
            url: 'board_add',
            data: {},
            success: function (response) {
                alert("페이지 이동")
                console.log(no)
            }
        })
    }

    // 테이블의 Row 클릭시 값 가져오기
    $("#tableBtn tr").click(function () {

        var str = ""
        var tdArr = new Array();    // 배열 선언

        // 현재 클릭된 Row(<tr>)
        var tr = $(this);
        var td = tr.children();

        // td.eq(index)를 통해 값을 가져올 수도 있다.
        var no = td.eq(0).text();
        var title = td.eq(1).text();
        var name = td.eq(2).text();

        console.log(no)
        console.log(title)
        console.log(name)

        $.ajax({
            type: 'GET',
            url: 'board',
            data: {no_give: no, title_give: title, name_give: name},
            success: function (response) {

            }
        })

    });


    </script>


</head>
<body>
<div class="mytitle">
</div>
<div class="myboard">
  <h1>{{ nickname }}님 게시판</h1>
  <table id="tableBtn" class="table table-bordered table-hover text-center">
    <thead>
    <tr>
      <th scope="col" width="50"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">번호</font></font>
      </th>
      <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">제목</font></font>
      </th>
      <th scope="col" width="150"><font style="vertical-align: inherit;"><font
          style="vertical-align: inherit;">닉네임</font></font>
      </th>
      <th width="70">수정</th>
      <th width="70">삭제</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"></font></font>2</td>
      <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"></font>기본</font>
      </td>
      <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"></font></font>셀</td>
      <td>
        <button type="button" class="btn btn-secondary btn-sm">수정</button>
      </td>
      <td>
        <button type="button" class="btn btn-secondary btn-sm">삭제</button>
      </td>
    </tr>
    <tr>
      <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
      <td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">기본</font></font>
      </td>
      <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">셀</font></font></td>
      <td>
        <button type="button" class="btn btn-secondary btn-sm">수정</button>
      </td>
      <td>
        <button type="button" class="btn btn-secondary btn-sm">삭제</button>
      </td>
    </tr>
    </tbody>
  </table>
  <button type="button" class="btn btn-primary" onclick="window.location.href='/board_add'">글쓰기</button>
    <button type="button" class="btn btn-primary" onclick="logout()">로그아웃</button>
</div>


</body>
</html>
